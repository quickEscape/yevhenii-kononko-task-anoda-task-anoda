(this["webpackJsonpyevhenii-kononko-task-anoda-contacts"]=this["webpackJsonpyevhenii-kononko-task-anoda-contacts"]||[]).push([[0],{229:function(e,t,a){e.exports=a(458)},458:function(e,t,a){"use strict";a.r(t);a(230),a(239);var n=a(0),r=a.n(n),c=a(88),o=a(70),i=a(220),s=a(58),u=a.n(s),l=a(146),m=a(111),d=a(90),p=a.n(d),E=a(221),f=a.n(E),g="https://my-json-server.typicode.com/quickEscape/typicode-json-server",b=function(e){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.awrap(f.a.get("".concat(g).concat(e)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:a.prev=7,a.t0=a.catch(0),console.error("Could not get ".concat(g).concat(e));case 10:case"end":return a.stop()}}),null,null,[[0,7]])},v=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b("/users"));case 1:case"end":return e.stop()}}))},h="SET_USERS",y="GET_USER",x="SET_SORT_TYPE",k={ID_ASC:"ID_ASC",AGE_DESC:"AGE_DESC",AGE_ASC:"AGE_ASC"},j=function(e){return{type:h,users:e}},S=function(e){return{type:"TOOGLE_IS_LOADING",isLoading:e}},A=function(e){return{type:x,sort:e}},C=20,_={users:[],user:null,loadMoreButton:!0,isLoading:!1,sortType:k.ID_ASC};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)({},e,{user:t.user});case h:var a=[].concat(Object(l.a)(e.users),Object(l.a)(t.users));return Object(m.a)({},e,{users:a,loadMoreButton:a.length<C});case x:var n=e.users.slice().sort((function(e,a){return t.sort===k.AGE_ASC?e.age-a.age:a.age-e.age}));return Object(m.a)({},e,{sortType:t.sort,users:n});default:return e}},w=a(69),T=a(60),D=a(473),L=a(479),G=a(478),I=a(459),N=Object(D.a)({root:{color:"white"}}),B=function(){var e=N();return r.a.createElement(L.a,{component:"header",p:2,bgcolor:"primary.dark",className:e.root},r.a.createElement(I.a,{variant:"h4"},"Header"))},U=a(476),W=a(475),M=a(480),R=a(89),H=Object(D.a)((function(e){return{root:{border:"1px solid black","&:not(:first-child)":{marginTop:e.spacing(4)},"& img":{display:"block",maxWidth:150,width:"100%"}},avatar:{margin:"auto"},link:Object(R.a)({color:"inherit",textDecoration:"none"},e.breakpoints.up("sm"),{flexWrap:"nowrap"}),userInfo:Object(R.a)({flexDirection:"column"},e.breakpoints.up("sm"),{flexDirection:"row",justifyContent:"space-between"})}})),J=function(e){var t=e.user,a=t.id,n=t.first_name,c=t.last_name,o=t.desc,i=t.image,s=t.age,u=H();return r.a.createElement(L.a,{p:2,className:u.root},r.a.createElement(W.a,{container:!0,spacing:2,to:"/".concat(a),component:w.b,className:u.link},r.a.createElement(W.a,{item:!0,className:u.avatar},r.a.createElement("img",{src:i,alt:"avatar"})),r.a.createElement(W.a,{item:!0,container:!0,direction:"column"},r.a.createElement(W.a,{item:!0,container:!0,alignItems:"baseline",spacing:1,className:u.userInfo},r.a.createElement(W.a,{item:!0,xs:!0},r.a.createElement(I.a,{variant:"h5",noWrap:!0},"".concat(n," ").concat(c))),r.a.createElement(W.a,{item:!0},r.a.createElement(I.a,{variant:"caption"},"Age: ".concat(s)))),r.a.createElement(W.a,{item:!0},r.a.createElement(I.a,{variant:"body1"},"".concat(o.slice(0,90),"..."))))))},P=function(e){var t=e.setSortType,a=e.isLoading,n=e.sortType;return r.a.createElement(W.a,{container:!0,spacing:2,justify:"flex-end"},r.a.createElement(W.a,{item:!0},r.a.createElement(M.a,{variant:"outlined",onClick:function(){return t(k.AGE_ASC)},disabled:a||n===k.AGE_ASC},"Age ASC")),r.a.createElement(W.a,{item:!0},r.a.createElement(M.a,{variant:"outlined",onClick:function(){return t(k.AGE_DESC)},disabled:a||n===k.AGE_DESC},"Age DESC")))},q=function(e){var t=e.usersCount,a=e.getUsers,n=e.isLoading;return r.a.createElement(W.a,{container:!0,justify:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return a(t)},disabled:n&&!0},"Load More")))},F=Object(o.b)((function(e){return{users:e.users,isLoading:e.isLoading,loadMoreButton:e.loadMoreButton,sortType:e.sortType}}),{setSortType:A,getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){t(S(!0)),v().then((function(a){t(S(!1)),t(j(a.slice(e,e+3))),t(A(null))}))}}})((function(e){var t=e.isLoading,a=e.loadMoreButton,c=e.users,o=e.setSortType,i=e.getUsers,s=e.sortType;return Object(n.useEffect)((function(){!c.length&&i()}),[]),!c.length||t?r.a.createElement(U.a,{style:{margin:"auto"}}):r.a.createElement(L.a,{pb:2,width:"100%"},r.a.createElement(P,{setSortType:o,isLoading:t,sortType:s}),r.a.createElement(L.a,{mt:2,mb:2},c.map((function(e){return r.a.createElement(J,{key:e.id,user:e})}))),a&&r.a.createElement(q,{getUsers:i,usersCount:c.length,isLoading:t}))})),Y=a(477),z=Object(D.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingBottom:e.spacing(1),"& img":{display:"block",maxWidth:250,width:"100%"}},link:{textDecoration:"none","&:hover":{textDecoration:"underline"}},text:{paddingBottom:e.spacing(2)}}})),K=function(e){var t=z(),a=e.user,n=a.image,c=a.first_name,o=a.last_name,i=a.age,s=a.phone,u=a.desc;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,md:3,xs:5},r.a.createElement("img",{src:n,alt:"user"})),r.a.createElement(W.a,{item:!0,container:!0,direction:"column",justify:"space-between",md:9,xs:7,spacing:2},r.a.createElement(W.a,{item:!0,xs:!0},r.a.createElement(I.a,{variant:"h5",noWrap:!0},c),r.a.createElement(I.a,{variant:"h5",noWrap:!0},o),r.a.createElement(I.a,{variant:"caption"},"Age: ".concat(i))),r.a.createElement(W.a,{item:!0,xs:!0},r.a.createElement(Y.a,{href:"tel:".concat(s),className:t.link},"Phone")))),r.a.createElement(I.a,{variant:"body1",className:t.text},u),r.a.createElement(W.a,{container:!0,justify:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(M.a,{variant:"contained",to:"/",component:w.b},"Back"))))},Q=Object(o.b)((function(e){return{user:e.user,isLoading:e.isLoading}}),{getUser:function(e){return function(t){t(S(!0)),function(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b("/users/".concat(e)));case 1:case"end":return t.stop()}}))}(e).then((function(e){t(S(!1)),t(function(e){return{type:y,user:e}}(e))}))}}})((function(e){var t=z(),a=e.userId,c=e.user,o=e.getUser,i=e.isLoading;Object(n.useEffect)((function(){o(a)}),[]);var s=i?r.a.createElement(U.a,{style:{margin:"auto"}}):null,u=c&&!i?r.a.createElement(K,{user:c}):null;return r.a.createElement(L.a,{p:{xs:0,sm:4},className:t.root},s,u)})),V=Object(D.a)((function(e){return{root:{display:"flex",padding:e.spacing(2),backgroundColor:"white",border:"2px solid black",minHeight:"60vh"}}})),X=function(){var e=V();return r.a.createElement(w.a,null,r.a.createElement(B,null),r.a.createElement(L.a,{component:"main",mt:2},r.a.createElement(G.a,{maxWidth:"md",className:e.root},r.a.createElement(T.c,null,r.a.createElement(T.a,{path:"/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(Q,{userId:t})}}),r.a.createElement(T.a,{path:"/",exact:!0},r.a.createElement(F,null))))))},Z=Object(c.c)(O,Object(c.a)(i.a));u.a.render(r.a.createElement(o.a,{store:Z},r.a.createElement(X,null)),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.0a48a8da.chunk.js.map